require('dotenv').config();
const CONTRACT_ADDRESS = process.env.CONTRACT_ADDRESS;
const tx = require('@stacks/transactions');
const utils = require('./utils');
const network = utils.resolveNetwork();
const BN = require('bn.js');

async function transact() {
  const list = tx.listCV([
    tx.tupleCV({ 'to': tx.uintCV(2142), 'ustx': tx.uintCV(16389985) }),
tx.tupleCV({ 'to': tx.uintCV(2151), 'ustx': tx.uintCV(73102184) }),
tx.tupleCV({ 'to': tx.uintCV(2152), 'ustx': tx.uintCV(20218382) }),
tx.tupleCV({ 'to': tx.uintCV(2175), 'ustx': tx.uintCV(770479810) }),
tx.tupleCV({ 'to': tx.uintCV(2179), 'ustx': tx.uintCV(825985) }),
tx.tupleCV({ 'to': tx.uintCV(2185), 'ustx': tx.uintCV(210868) }),
tx.tupleCV({ 'to': tx.uintCV(2191), 'ustx': tx.uintCV(1126807) }),
tx.tupleCV({ 'to': tx.uintCV(2192), 'ustx': tx.uintCV(28387965) }),
tx.tupleCV({ 'to': tx.uintCV(2205), 'ustx': tx.uintCV(1622060) }),
tx.tupleCV({ 'to': tx.uintCV(2216), 'ustx': tx.uintCV(11121057) }),
tx.tupleCV({ 'to': tx.uintCV(2217), 'ustx': tx.uintCV(228124) }),
tx.tupleCV({ 'to': tx.uintCV(2219), 'ustx': tx.uintCV(40552) }),
tx.tupleCV({ 'to': tx.uintCV(2222), 'ustx': tx.uintCV(73143104) }),
tx.tupleCV({ 'to': tx.uintCV(2223), 'ustx': tx.uintCV(4483097) }),
tx.tupleCV({ 'to': tx.uintCV(2229), 'ustx': tx.uintCV(7409838) }),
tx.tupleCV({ 'to': tx.uintCV(2235), 'ustx': tx.uintCV(4681358) }),
tx.tupleCV({ 'to': tx.uintCV(2236), 'ustx': tx.uintCV(4070746) }),
tx.tupleCV({ 'to': tx.uintCV(2238), 'ustx': tx.uintCV(40707464) }),
tx.tupleCV({ 'to': tx.uintCV(2240), 'ustx': tx.uintCV(594350) }),
tx.tupleCV({ 'to': tx.uintCV(2243), 'ustx': tx.uintCV(5906098) }),
tx.tupleCV({ 'to': tx.uintCV(2244), 'ustx': tx.uintCV(244253) }),
tx.tupleCV({ 'to': tx.uintCV(2249), 'ustx': tx.uintCV(51142472) }),
tx.tupleCV({ 'to': tx.uintCV(2251), 'ustx': tx.uintCV(405515) }),
tx.tupleCV({ 'to': tx.uintCV(2254), 'ustx': tx.uintCV(88164242) }),
tx.tupleCV({ 'to': tx.uintCV(2259), 'ustx': tx.uintCV(615280) }),
tx.tupleCV({ 'to': tx.uintCV(2272), 'ustx': tx.uintCV(770478508) }),
tx.tupleCV({ 'to': tx.uintCV(2289), 'ustx': tx.uintCV(2843908) }),
tx.tupleCV({ 'to': tx.uintCV(2291), 'ustx': tx.uintCV(402345) }),
tx.tupleCV({ 'to': tx.uintCV(2292), 'ustx': tx.uintCV(2035373) }),
tx.tupleCV({ 'to': tx.uintCV(2296), 'ustx': tx.uintCV(2035373) }),
tx.tupleCV({ 'to': tx.uintCV(2297), 'ustx': tx.uintCV(40707464) }),
tx.tupleCV({ 'to': tx.uintCV(2298), 'ustx': tx.uintCV(6690998) }),
tx.tupleCV({ 'to': tx.uintCV(2305), 'ustx': tx.uintCV(122126732) }),
tx.tupleCV({ 'to': tx.uintCV(2315), 'ustx': tx.uintCV(1693146976) }),
tx.tupleCV({ 'to': tx.uintCV(2317), 'ustx': tx.uintCV(304136253) }),
tx.tupleCV({ 'to': tx.uintCV(2320), 'ustx': tx.uintCV(20354455) }),
tx.tupleCV({ 'to': tx.uintCV(2322), 'ustx': tx.uintCV(40552) }),
tx.tupleCV({ 'to': tx.uintCV(2323), 'ustx': tx.uintCV(4018629) }),
tx.tupleCV({ 'to': tx.uintCV(2324), 'ustx': tx.uintCV(7504898) }),
tx.tupleCV({ 'to': tx.uintCV(2327), 'ustx': tx.uintCV(1419303) }),
tx.tupleCV({ 'to': tx.uintCV(2328), 'ustx': tx.uintCV(97697913) }),
tx.tupleCV({ 'to': tx.uintCV(2330), 'ustx': tx.uintCV(20353732) }),
tx.tupleCV({ 'to': tx.uintCV(2334), 'ustx': tx.uintCV(185899818) }),
tx.tupleCV({ 'to': tx.uintCV(2338), 'ustx': tx.uintCV(2250608) }),
tx.tupleCV({ 'to': tx.uintCV(2340), 'ustx': tx.uintCV(22721006) }),
tx.tupleCV({ 'to': tx.uintCV(2343), 'ustx': tx.uintCV(875912) }),
tx.tupleCV({ 'to': tx.uintCV(2350), 'ustx': tx.uintCV(159772912) }),
tx.tupleCV({ 'to': tx.uintCV(2352), 'ustx': tx.uintCV(176804542) }),
tx.tupleCV({ 'to': tx.uintCV(2354), 'ustx': tx.uintCV(60827251) }),
tx.tupleCV({ 'to': tx.uintCV(2358), 'ustx': tx.uintCV(7745337) }),
tx.tupleCV({ 'to': tx.uintCV(2361), 'ustx': tx.uintCV(81103) }),
tx.tupleCV({ 'to': tx.uintCV(2362), 'ustx': tx.uintCV(997567) }),
tx.tupleCV({ 'to': tx.uintCV(2363), 'ustx': tx.uintCV(40743265) }),
tx.tupleCV({ 'to': tx.uintCV(2364), 'ustx': tx.uintCV(81103001) }),
tx.tupleCV({ 'to': tx.uintCV(2365), 'ustx': tx.uintCV(133820) }),
tx.tupleCV({ 'to': tx.uintCV(2370), 'ustx': tx.uintCV(491889700) }),
tx.tupleCV({ 'to': tx.uintCV(2376), 'ustx': tx.uintCV(446067) }),
tx.tupleCV({ 'to': tx.uintCV(2377), 'ustx': tx.uintCV(44392402) }),
tx.tupleCV({ 'to': tx.uintCV(2379), 'ustx': tx.uintCV(162199424) }),
tx.tupleCV({ 'to': tx.uintCV(2381), 'ustx': tx.uintCV(1034289) }),
tx.tupleCV({ 'to': tx.uintCV(2383), 'ustx': tx.uintCV(53723) }),
tx.tupleCV({ 'to': tx.uintCV(2390), 'ustx': tx.uintCV(1935986) }),
tx.tupleCV({ 'to': tx.uintCV(2393), 'ustx': tx.uintCV(4075426) }),
tx.tupleCV({ 'to': tx.uintCV(2398), 'ustx': tx.uintCV(12165) }),
tx.tupleCV({ 'to': tx.uintCV(2399), 'ustx': tx.uintCV(15939896) }),
tx.tupleCV({ 'to': tx.uintCV(2404), 'ustx': tx.uintCV(243309002) }),
tx.tupleCV({ 'to': tx.uintCV(2406), 'ustx': tx.uintCV(385239) }),
tx.tupleCV({ 'to': tx.uintCV(2410), 'ustx': tx.uintCV(37147346) }),
tx.tupleCV({ 'to': tx.uintCV(2411), 'ustx': tx.uintCV(446067) }),
tx.tupleCV({ 'to': tx.uintCV(2412), 'ustx': tx.uintCV(1622060) }),
tx.tupleCV({ 'to': tx.uintCV(2417), 'ustx': tx.uintCV(40552) }),
tx.tupleCV({ 'to': tx.uintCV(2422), 'ustx': tx.uintCV(771599) }),
tx.tupleCV({ 'to': tx.uintCV(2427), 'ustx': tx.uintCV(367936) }),
tx.tupleCV({ 'to': tx.uintCV(2431), 'ustx': tx.uintCV(1044201135) }),
tx.tupleCV({ 'to': tx.uintCV(2439), 'ustx': tx.uintCV(77620466) }),
tx.tupleCV({ 'to': tx.uintCV(2442), 'ustx': tx.uintCV(20275750) }),
tx.tupleCV({ 'to': tx.uintCV(2443), 'ustx': tx.uintCV(170730812) }),
tx.tupleCV({ 'to': tx.uintCV(2445), 'ustx': tx.uintCV(405515) }),
tx.tupleCV({ 'to': tx.uintCV(2446), 'ustx': tx.uintCV(81103001) }),
tx.tupleCV({ 'to': tx.uintCV(2447), 'ustx': tx.uintCV(4079328) }),
tx.tupleCV({ 'to': tx.uintCV(2448), 'ustx': tx.uintCV(48661800) }),
tx.tupleCV({ 'to': tx.uintCV(2451), 'ustx': tx.uintCV(41281427) }),
tx.tupleCV({ 'to': tx.uintCV(2453), 'ustx': tx.uintCV(41362530) }),
tx.tupleCV({ 'to': tx.uintCV(2454), 'ustx': tx.uintCV(864832) }),
tx.tupleCV({ 'to': tx.uintCV(2456), 'ustx': tx.uintCV(202758) }),
tx.tupleCV({ 'to': tx.uintCV(2459), 'ustx': tx.uintCV(182482) }),
tx.tupleCV({ 'to': tx.uintCV(2460), 'ustx': tx.uintCV(103667301) }),
tx.tupleCV({ 'to': tx.uintCV(2461), 'ustx': tx.uintCV(105231144) }),
tx.tupleCV({ 'to': tx.uintCV(2462), 'ustx': tx.uintCV(12165450) }),
tx.tupleCV({ 'to': tx.uintCV(2463), 'ustx': tx.uintCV(3730738) }),
tx.tupleCV({ 'to': tx.uintCV(2466), 'ustx': tx.uintCV(33430657) }),
tx.tupleCV({ 'to': tx.uintCV(2467), 'ustx': tx.uintCV(527170) }),
tx.tupleCV({ 'to': tx.uintCV(2468), 'ustx': tx.uintCV(190592) }),
tx.tupleCV({ 'to': tx.uintCV(2470), 'ustx': tx.uintCV(564758) }),
tx.tupleCV({ 'to': tx.uintCV(2476), 'ustx': tx.uintCV(20275750) }),
tx.tupleCV({ 'to': tx.uintCV(2477), 'ustx': tx.uintCV(12165450) })
  ]);
  const txOptions = {
    contractAddress: CONTRACT_ADDRESS,
    contractName: 'arkadiko-claim-yield-v2-1',
    functionName: 'add-claims',
    functionArgs: [list],
    nonce: new BN(2967, 10),
    senderKey: process.env.STACKS_PRIVATE_KEY,
    postConditionMode: 1,
    network
  };

  const transaction = await tx.makeContractCall(txOptions);
  const result = tx.broadcastTransaction(transaction, network);
  await utils.processing(result, transaction.txid(), 0);
};

transact();
